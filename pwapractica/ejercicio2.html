<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>EJERCICIO 2</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body class="cambiarColor">
    <br>
    <br>

    <center>
        <table>
            <tbody>
                <tr>
                    <td colspan="4"><textarea readonly="true" id="textArea" style="resize: none;"></textarea></td>
                </tr>
                <tr>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="7"
                            onclick="calculadora(this)">7</button></td>
                    <td colspan="1"style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="8"
                            onclick="calculadora(this)">8</button></td>
                    <td colspan="1"style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="9"
                            onclick="calculadora(this)">9</button></td>
                    <td colspan="1"style="width: 28%;"><button type="button" style="font-size: 20px;width: 100%;background-color:orangered ; color: white;" data-val="÷"
                            onclick="calculadora(this)">÷</button></td>
                </tr>
                <tr>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="4"
                            onclick="calculadora(this)">4</button></td>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="5"
                            onclick="calculadora(this)">5</button></td>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="6"
                            onclick="calculadora(this)">6</button></td>
                    <td colspan="1" style="width: 28%;"><button type="button" style="font-size: 20px;width: 100%;background-color:orangered ; color: white;" data-val="x"
                            onclick="calculadora(this)">x</button></td>
                </tr>
                <tr>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="1"
                            onclick="calculadora(this)">1</button></td>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="2"
                            onclick="calculadora(this)">2</button></td>
                    <td colspan="1" style="width: 24%;"><button type="button" style="font-size: 20px;width: 100%;" data-val="3"
                            onclick="calculadora(this)">3</button></td>
                    <td colspan="1" style="width: 28%;"><button type="button" style="font-size: 20px;width: 100%;background-color:orangered ; color: white;" data-val="-"
                            onclick="calculadora(this)">-</button></td>
                </tr>
                <tr>
                    <td colspan="3"><button type="button" style="font-size: 20px;width: 100%;" data-val="0"
                            onclick="calculadora(this)">0</button></td>
                    <td colspan="1"><button type="button" style="font-size: 20px;width: 100%; ;background-color:orangered ; color: white;" data-val="+"
                            onclick="calculadora(this)">+</button></td>
                </tr>
                <tr>
                    <td colspan="2"><button type="button" style="font-size: 20px;width: 100%; height: 100%;background-color: green; color: white;"
                            onclick="procesar()">=</button>
                    </td>
                    <td colspan="2"><button type="button" style="font-size: 20px;width: 100%;background-color: crimson; color: white;" 
                            onclick="$('#textArea').val('')"> Limpiar </button></td>
                </tr>

            </tbody>
        </table>
    </center>

</body>

</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>

    function calculadora(elemento) {
        var texto = $(elemento).attr('data-val');
        if (texto === "+" || texto === "-" || texto === "x" || texto === "÷") {
            var textAreaR = $('#textArea').val();
            if (textAreaR.indexOf('+') !== -1 || textAreaR.indexOf('-') !== -1 || textAreaR.indexOf('x') !== -1 || textAreaR.indexOf('÷') !== -1) {
                //alert("No puede realizar operaciones complejas")
            } else {
                $('#textArea').val($('#textArea').val() + texto);
            }

        } else {
            $('#textArea').val($('#textArea').val() + texto);
        }
    }

    function procesar() {
        var valor = $('#textArea').val();
        var calcular = 0;
        var total = 0;

        if (valor.indexOf('+') !== -1) {
            calcular = valor.split('+');
            total = parseInt(calcular[0]) + parseInt(calcular[1]);
        } else if (valor.indexOf('-') !== -1) {
            calcular = valor.split('-');
            total = parseInt(calcular[0]) - parseInt(calcular[1]);
        } else if (valor.indexOf('x') !== -1) {
            calcular = valor.split('x');
            total = parseInt(calcular[0]) * parseInt(calcular[1]);
        } else if (valor.indexOf('÷') !== -1) {
            calcular = valor.split('÷');
            total = parseInt(calcular[0]) / parseInt(calcular[1]);
        }
        $('#textArea').val(total);

    }

    /*;
    var color = '#';
    for (var i = 0; i < 6; i++) {
        color += letras[Math.floor(Math.random() * 16)];
    }
    return color;*/

</script>